{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Place Order Request",
  "type": "object",
  "properties": {
    "customerInfo": {
      "type": "object",
        "title": "Customer Information",
      "description": "Information about the customer placing the order",
      "properties": {
        "Fullname": {
          "type": "string",
          "description": "Full name of the customer"
        },
        "EmailAddress": {
          "type": "string",
          "format": "email",
          "description": "Email address of the customer"
        }
      },
      "required": ["Fullname", "EmailAddress"]
    },
    "BillingAddress": {
      "$ref": "#/$defs/address"
        },
    "ShippingAddress": {
      "$ref": "#/$defs/address"
    },
    "OrderLines": {
      "type": "array",
      "description": "List of items to be ordered",
      "items": {
        "$ref": "#/$defs/placeOrderItem"
      }
    }
  },
  "required": [
    "customerInfo",
    "BillingAddress",
    "ShippingAddress",
    "OrderLines"
  ],
  "$defs": {
    "placeOrderItem": {
      "title": "Order Line Request",
      "description": "An item in the order",
      "type": "object",
      "properties": {
        "ProductId": {
          "type": "string",
          "description": "Unique identifier for the product to be ordered"
        },
        "Quantity": {
          "type": "integer",
          "minimum": 1,
          "description": "Number of units of the product to be ordered"
        }
      },
      "required": ["ProductId", "Quantity"]
    },
    "address": {
      "title": "Address",
      "type": "object",
      "properties": {
        "AddressLine1": {
          "type": "string",
          "description": "Primary address line"
        },
        "AddressLine2": {
          "type": ["string", "null"],
          "description": "Optional secondary address line"
        },
        "City": {
          "type": "string",
          "description": "City name"
        },
        "PostalCode": {
          "type": "string",
          "description": "Postal or ZIP code"
        }
      },
      "required": ["AddressLine1", "City", "PostalCode"]
    }
  }
}
